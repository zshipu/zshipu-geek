<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Golangå®è·µï¼šä½¿ç”¨ Go &#43; ç¬¬ 2 éƒ¨åˆ†åˆ›å»º RESTful æœåŠ¡ | çŸ¥è¯†é“ºçš„åšå®¢</title>
    <meta property="og:title" content="Golangå®è·µï¼šä½¿ç”¨ Go &#43; ç¬¬ 2 éƒ¨åˆ†åˆ›å»º RESTful æœåŠ¡ - çŸ¥è¯†é“ºçš„åšå®¢">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-10-13T22:35:06&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-10-13T22:35:06&#43;08:00'>
        
    <meta name="Keywords" content="golang,goè¯­è¨€,goè¯­è¨€ç¬”è®°,çŸ¥è¯†é“º,java,android,åšå®¢,é¡¹ç›®ç®¡ç†,python,è½¯ä»¶æ¶æ„,å…¬ä¼—å·,å°ç¨‹åº">
    <meta name="description" content="Golangå®è·µï¼šä½¿ç”¨ Go &#43; ç¬¬ 2 éƒ¨åˆ†åˆ›å»º RESTful æœåŠ¡">
        <meta name="author" content="çŸ¥è¯†é“º">
        
    <meta property="og:url" content="https://geek.zshipu.com/post/go/Golang%E5%AE%9E%E8%B7%B5%E4%BD%BF%E7%94%A8-Go-&#43;-%E7%AC%AC-2-%E9%83%A8%E5%88%86%E5%88%9B%E5%BB%BA-RESTful-%E6%9C%8D%E5%8A%A1/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    <script data-ad-client="ca-pub-2874221941555456" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
    
    
    
    
    
    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WLWJSST');</script>
    
</head>


<body>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WLWJSST"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://geek.zshipu.com/">
                        çŸ¥è¯†é“ºçš„åšå®¢
                    </a>
                
                <p class="description">ä¸“æ³¨äºAndroidã€Javaã€Goè¯­è¨€(golang)ã€ç§»åŠ¨äº’è”ç½‘ã€é¡¹ç›®ç®¡ç†ã€è½¯ä»¶æ¶æ„</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://geek.zshipu.com/">é¦–é¡µ</a>
                    
                    <a  href="https://geek.zshipu.com/archives/" title="å½’æ¡£">å½’æ¡£</a>
                    
                    <a  href="https://geek.zshipu.com/about/" title="å…³äº">å…³äº</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: fixed;
        width: 200px;
        margin-left: -210px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
        white-space: nowrap;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 70%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 20px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 15px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 10px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 20px;
        list-style: square;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul {
        padding-left: 15px;
        display: none;
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="position: absolute; top: 188px;">
    <h2 class="post-toc-title">æ–‡ç« ç›®å½•</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
<ul>
<li><a href="#font-mstmutation-1-msthash-29328-msttexthash-34002657-ä»€ä¹ˆæ˜¯-restful-æœåŠ¡-font"><font _mstmutation="1" _msthash="29328" _msttexthash="34002657">ä»€ä¹ˆæ˜¯ RESTful æœåŠ¡ï¼Ÿ</font></a></li>
<li><a href="#font-mstmutation-1-msthash-34411-msttexthash-29193541-æ–‡ä»¶ç»“æ„å¦‚ä½•-font"><font _mstmutation="1" _msthash="34411" _msttexthash="29193541">æ–‡ä»¶ç»“æ„å¦‚ä½•ï¼Ÿ</font></a></li>
<li><a href="#font-mstmutation-1-msthash-32955-msttexthash-41634892-äº§å“å¤„ç†ç¨‹åºå’Œæ•°æ®å­˜å‚¨-font"><font _mstmutation="1" _msthash="32955" _msttexthash="41634892">äº§å“å¤„ç†ç¨‹åºå’Œæ•°æ®å­˜å‚¨</font></a></li>
<li><a href="#font-mstmutation-1-msthash-23777-msttexthash-19841588-æ£€ç´¢äº§å“-è·å–-font"><font _mstmutation="1" _msthash="23777" _msttexthash="19841588">æ£€ç´¢äº§å“ + è·å–</font></a></li>
<li><a href="#font-mstmutation-1-msthash-33579-msttexthash-13596141-æ·»åŠ æ–°äº§å“-post-font"><font _mstmutation="1" _msthash="33579" _msttexthash="13596141">æ·»åŠ æ–°äº§å“ + POST</font></a></li>
<li><a href="#font-mstmutation-1-msthash-28535-msttexthash-18319717-æ›´æ–°ç°æœ‰äº§å“-put-font"><font _mstmutation="1" _msthash="28535" _msttexthash="18319717">æ›´æ–°ç°æœ‰äº§å“ + PUT</font></a></li>
</ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var leftPos = $("#main").offset().left;
            if(leftPos<220){
                postToc.css({"width":leftPos-10,"margin-left":(0-leftPos)})
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">Golangå®è·µï¼šä½¿ç”¨ Go &#43; ç¬¬ 2 éƒ¨åˆ†åˆ›å»º RESTful æœåŠ¡</h1>
        </header>
        <date class="post-meta meta-date">
            2020å¹´10æœˆ13æ—¥
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    é˜…è¯»</span></span>
        </div>
        
        
        <div class="post-content">
            

<h1 id="font-mstmutation-1-msthash-29328-msttexthash-34002657-ä»€ä¹ˆæ˜¯-restful-æœåŠ¡-font"><font _mstmutation="1" _msthash="29328" _msttexthash="34002657">ä»€ä¹ˆæ˜¯ RESTful æœåŠ¡ï¼Ÿ</font></h1>

<p><font _mstmutation="1" _msthash="34281" _msttexthash="1971112091">REST æ˜¯ä¸€ç§ç”¨äºè®¾è®¡ Web æœåŠ¡çš„ä½“ç³»ç»“æ„æ–¹æ³•ã€‚REST API æ˜¯å›´ç»•_èµ„æº_è®¾è®¡çš„ï¼Œèµ„æºæ˜¯å®¢æˆ·ç«¯å¯ä»¥è®¿é—®çš„ä»»ä½•ç±»å‹çš„å¯¹è±¡ã€æ•°æ®æˆ–æœåŠ¡ã€‚èµ„æºå…·æœ‰æ ‡è¯†ç¬¦_ï¼Œ_å®ƒæ˜¯å”¯ä¸€æ ‡è¯†è¯¥èµ„æºçš„ URIã€‚ä¾‹å¦‚ï¼Œç‰¹å®šå®¢æˆ·è®¢å•çš„ URI å¯èƒ½æ˜¯ï¼š</font></p>

<p><a href="https://zshipu.com/t?url=https://adventure-works.com/orders/1">https://adventure-works.com/orders/1</a></p>

<p><font _mstmutation="1" _msthash="29432" _msttexthash="1031287868">å®¢æˆ·ç«¯é€šè¿‡äº¤æ¢èµ„æºè¡¨ç¤ºå½¢å¼_ä¸æœåŠ¡_äº¤äº’ã€‚è®¸å¤š Web API ä½¿ç”¨ JSONï¼ˆå½“ç„¶ä¸éœ€è¦å®ƒï¼‰ä½œä¸ºäº¤æ¢æ ¼å¼ã€‚ä¾‹å¦‚ï¼Œå¯¹ä¸Šé¢åˆ—å‡ºçš„ URI çš„ GET è¯·æ±‚å¯èƒ½ä¼šè¿”å›æ­¤å“åº”æ­£æ–‡ï¼š</font></p>

<pre><code class="language-&quot;orderId&quot;:1,&quot;orderValue&quot;:99.90,&quot;productId&quot;:1,&quot;quantity&quot;:1"></code></pre>

<p><font _mstmutation="1" _msthash="33826" _msttexthash="381965597">HTTP åè®®å®šä¹‰äº†å‡ ç§ä¸ºè¯·æ±‚åˆ†é…è¯­ä¹‰æ„ä¹‰çš„æ–¹æ³•ã€‚å¤§å¤šæ•° RESTful Web API ä½¿ç”¨çš„å¸¸è§ HTTP æ–¹æ³•åŒ…æ‹¬ï¼š</font></p>

<ul>
<li><font _mstmutation="1" _msthash="22919" _msttexthash="345303088"><strong>GET</strong>åœ¨æŒ‡å®šçš„ URI ä¸­æ£€ç´¢èµ„æºçš„è¡¨ç¤ºå½¢å¼ã€‚å“åº”æ¶ˆæ¯çš„æ­£æ–‡åŒ…å«è¯·æ±‚èµ„æºçš„è¯¦ç»†ä¿¡æ¯ã€‚</font></li>
<li><font _mstmutation="1" _msthash="29497" _msttexthash="704191813"><strong>POST</strong>åœ¨æŒ‡å®šçš„ URI ä¸Šåˆ›å»ºæ–°èµ„æºã€‚è¯·æ±‚æ¶ˆæ¯çš„æ­£æ–‡æä¾›æ–°èµ„æºçš„è¯¦ç»†ä¿¡æ¯ã€‚è¯·æ³¨æ„ï¼ŒPOST è¿˜å¯ç”¨äºè§¦å‘å®é™…ä¸åˆ›å»ºèµ„æºçš„æ“ä½œã€‚</font></li>
<li><font _mstmutation="1" _msthash="34021" _msttexthash="307301176"><strong>PUT</strong>åœ¨æŒ‡å®šçš„ URI ä¸Šåˆ›å»ºæˆ–æ›¿æ¢èµ„æºã€‚è¯·æ±‚æ¶ˆæ¯çš„æ­£æ–‡æŒ‡å®šè¦åˆ›å»ºæˆ–æ›´æ–°çš„èµ„æºã€‚</font></li>
<li><font _mstmutation="1" _msthash="35061" _msttexthash="241479823"><strong>PATCH</strong>æ‰§è¡Œèµ„æºçš„éƒ¨åˆ†æ›´æ–°ã€‚è¯·æ±‚æ­£æ–‡æŒ‡å®šè¦åº”ç”¨äºèµ„æºçš„æ›´æ”¹é›†ã€‚</font></li>
<li><font _mstmutation="1" _msthash="34190" _msttexthash="50225617"><strong>åˆ é™¤</strong>åˆ é™¤æŒ‡å®š URI ä¸­çš„èµ„æºã€‚</font></li>
</ul>

<p><font _mstmutation="1" _msthash="38454" _msttexthash="1236853618">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ GraphQL æˆ– gRPC ä½“ç³»ç»“æ„æ¥æ„å»ºæˆ‘ä»¬çš„å¾®æœåŠ¡ç»“æ„ã€‚é‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆä¸å‘¢ï¼Ÿå—¯ï¼Œ REST ç›¸å¯¹æ˜“äºå®ç°ã€‚åœ¨æœªæ¥çš„åšå®¢ä¸­ï¼Œæˆ‘å°†ç ”ç©¶ç”¨ä¸Šè¿°ä¸€äº›æŠ€æœ¯é‡æ–°è®¾è®¡åç«¯ã€‚</font></p>

<h1 id="font-mstmutation-1-msthash-34411-msttexthash-29193541-æ–‡ä»¶ç»“æ„å¦‚ä½•-font"><font _mstmutation="1" _msthash="34411" _msttexthash="29193541">æ–‡ä»¶ç»“æ„å¦‚ä½•ï¼Ÿ</font></h1>

<p><font _mstmutation="1" _msthash="26988" _msttexthash="3474171961">åœ¨ä¸Šä¸€ä¸ªåšå®¢ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸¤ä¸ªåä¸º&rdquo;ä½ å¥½&rdquo;å’Œ&rdquo;å†è§&rdquo;çš„æ–°å¤„ç†ç¨‹åºã€‚æˆ‘ä»¬ä¸å†éœ€è¦è¿™äº›äº†ï¼Œ æ‰€ä»¥æˆ‘ä»¬åˆ é™¤äº†å®ƒä»¬ã€‚ç›¸åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º<strong>äº§å“çš„æ–°å¤„ç†ç¨‹åº</strong>ã€‚æˆ‘ä»¬å°†é€šè¿‡æ­¤å¤„ç†ç¨‹åºæ‰§è¡Œ CRUD æ“ä½œã€‚ç”±äºæˆ‘ä»¬æ­£åœ¨åˆ›å»ºä¸€ä¸ªå’–å•¡åº—ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ•°æ®å­˜å‚¨ï¼Œå­˜å‚¨æˆ‘ä»¬çš„äº§å“ã€‚<strong>Product.go</strong>å°†å­˜å‚¨è¦å­˜å‚¨çš„äº§å“å­—æ®µä½œä¸º go ç»“æ„ã€‚</font></p>

<p><img src="https://cdn.jsdelivr.net/gh/zshipu/images/202110050824634.png" alt="image-20211005082401040" /></p>

<h1 id="font-mstmutation-1-msthash-32955-msttexthash-41634892-äº§å“å¤„ç†ç¨‹åºå’Œæ•°æ®å­˜å‚¨-font"><font _mstmutation="1" _msthash="32955" _msttexthash="41634892">äº§å“å¤„ç†ç¨‹åºå’Œæ•°æ®å­˜å‚¨</font></h1>

<p><font _mstmutation="1" _msthash="43979" _msttexthash="5716906039">è®©æˆ‘ä»¬å…ˆçœ‹çœ‹æˆ‘ä»¬çš„å¤„ç†ç¨‹åºã€‚æˆ‘ä»¬é¦–å…ˆæ£€æŸ¥ API è¯·æ±‚çš„ HTTP è°“è¯ï¼Œå³ï¼šGETã€POST å’Œ PUTã€‚æˆ‘ä»¬è¿˜å¯¹äº§å“ç»“æ„<strong>ç¼–å†™</strong>æ–¹æ³•ã€‚è¿™äº›å¯ä»¥é€šè¿‡ p.MethodName è°ƒç”¨ã€‚è¿™æœ‰åŠ©äºæŠ½è±¡æˆ‘ä»¬çš„é€»è¾‘å’Œå¯å†ç”¨æ€§ã€‚å¦‚æœæ‚¨æŸ¥çœ‹ä»£ç çš„åŸºæœ¬ç»“æ„ï¼Œå°†çœ‹åˆ°ä¸€äº›å‡½æ•°ç¼–ç¨‹çš„åŸåˆ™ã€‚<strong>Golang</strong>ä¸æ˜¯ä¸€<strong>ç§</strong>åŠŸèƒ½è¯­è¨€ï¼Œä½†æœ‰å¾ˆå¤šåŠŸèƒ½<strong>ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨å¼€å‘</strong>ä¸­åº”ç”¨åŠŸèƒ½åŸåˆ™ï¼Œä½¿æˆ‘ä»¬çš„ä»£ç æ›´åŠ ä¼˜é›…ã€ç®€æ´ã€å¯ç»´æŠ¤ã€æ›´æ˜“äºç†è§£å’Œæµ‹è¯•ã€‚</font></p>

<p>package handlersimport (
 &ldquo;log&rdquo;
 &ldquo;net/http&rdquo;
 &ldquo;regexp&rdquo;
 &ldquo;strconv&rdquo;&ldquo;github.com/nandangrover/go-microservices/data&rdquo;
)//Products structure that holds a logger
type Products struct {
 l *log.Logger
}// NewProducts function return the pointer to Products structure
func NewProducts(l *log.Logger) *Products {
 return &amp;Products{l}
}func (p *Products) ServeHTTP(rw http.ResponseWriter, r *http.Request) {
 if r.Method == http.MethodGet {
  p.getProducts(rw, r)
  return
 }
 if r.Method == http.MethodPost {
  p.addProduct(rw, r)
  return
 }
 if r.Method == http.MethodPut {
  // expect the id in the URI
  regex := regexp.MustCompile(<code>/([0-9]+)</code>)
  group := regex.FindAllStringSubmatch(r.URL.Path, -1)if len(group) != 1 || len(group[0]) != 2 {
   http.Error(rw, &ldquo;Invalid URI&rdquo;, http.StatusBadRequest)
   return
  }idString := group[0][1]
  // Ignore the error for now
  id, _ := strconv.Atoi(idString)p.updateProducts(id, rw, r)
 }
 // catch all other http verb with 405
 rw.WriteHeader(http.StatusMethodNotAllowed)
}func (p *Products) getProducts(rw http.ResponseWriter, r *http.Request) {
 p.l.Println(&ldquo;Handle GET products&rdquo;)listOfProducts := data.GetProducts()
 // Use encoder as it is marginally faster than json.marshal. It&rsquo;s important when we use multiple threads
 // d, err := json.Marshal(listOfProducts)
 err := listOfProducts.ToJSON(rw)
 if err != nil {
  http.Error(rw, &ldquo;Unable to marshal json&rdquo;, http.StatusInternalServerError)
 }
}func (p *Products) addProduct(rw http.ResponseWriter, r *http.Request) {
 p.l.Println(&ldquo;Handle POST product&rdquo;)prod := &amp;data.Product{}
 // The reason why we use a buffer reader is so that we don&rsquo;t have to allocate all the memory instantly to a slice or something like that,
 err := prod.FromJSON(r.Body)
 if err != nil {
  http.Error(rw, &ldquo;Unable to unmarshal json&rdquo;, http.StatusBadRequest)
 }
 // p.l.Printf(&ldquo;Prod %#v&rdquo;, prod)
 data.AddProduct(prod)
}func (p *Products) updateProducts(id int, rw http.ResponseWriter, r *http.Request) {
 p.l.Println(&ldquo;Handle Put product&rdquo;)prod := &amp;data.Product{}
 // The reason why we use a buffer reader is so that we don&rsquo;t have to allocate all the memory instantly to a slice or something like that,
 err := prod.FromJSON(r.Body)
 if err != nil {
  http.Error(rw, &ldquo;Unable to unmarshal json&rdquo;, http.StatusBadRequest)
 }err = data.UpdateProduct(id, prod)
 if err == data.ErrProductNotFound {
  http.Error(rw, &ldquo;Product not found&rdquo;, http.StatusNotFound)
  return
 }if err != nil {
  http.Error(rw, &ldquo;Product not found&rdquo;, http.StatusInternalServerError)
  return
 }}</p>

<p><font _mstmutation="1" _msthash="39832" _msttexthash="655781061"><strong>æˆ‘ä»¬</strong>äº§å“çš„æ•°æ®å­˜å‚¨å®šä¹‰äº†æ¯ä¸ªå’–å•¡åº—äº§å“çš„ç»“æ„ã€‚æˆ‘ä»¬éœ€è¦å¯¼å‡ºäº§å“ï¼Œå› æ­¤äº§å“ç»“æ„ä¸­çš„æ¯ä¸ªé”®éƒ½éœ€è¦æœ‰ä¸€ä¸ªå¤§å†™ç¬¬ä¸€å­—ç¬¦ã€‚</font></p>

<p><font _mstmutation="1" _msthash="22386" _msttexthash="1494353250">æˆ‘ä»¬è¿˜åœ¨æ­¤æ–‡ä»¶ä¸­å­˜å‚¨ä¸€äº›å¸®åŠ©ç¨‹åºå®ç”¨ç¨‹åºæ–¹æ³•ï¼Œå¦‚ ToJSON å’Œ FromJSONã€‚è¿™äº›æ–¹æ³•æœ‰åŠ©äºå°†æˆ‘ä»¬çš„äº§å“ç»“æ„è½¬æ¢ä¸º JSONï¼Œåä¹‹äº¦ç„¶ã€‚æŠ½è±¡åœ¨è¿™é‡Œæ˜¯ç»å¯¹å¯èƒ½çš„ï¼Œä½†æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ä¸ªåšå®¢ä¸­å¤šçœ‹ä¸€ä¸‹ã€‚</font></p>

<p><font _mstmutation="1" _msthash="27612" _msttexthash="742656265">æœ€åï¼Œæˆ‘ä»¬è¿˜æœ‰æˆ‘ä»¬çš„<strong>å¯å˜äº§å“åˆ—è¡¨</strong>ï¼Œå®ƒå­˜å‚¨äº†å¯¹äº§å“ç»“æ„çš„å¼•ç”¨çš„ä¸€éƒ¨åˆ†ã€‚åœ¨åˆ‡ç‰‡ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€äº›è™šæ‹Ÿæ•°æ®ï¼Œå¯ç”¨äºæ‰§è¡Œ CRUD æ“ä½œã€‚</font></p>

<p>package dataimport (
 &ldquo;encoding/json&rdquo;
 &ldquo;fmt&rdquo;
 &ldquo;io&rdquo;
 &ldquo;time&rdquo;
)//Product defines the structure for an API product
//Since encoding/json is a package residing outside our package we need to uppercase the first character of the fields inside the structure
//To get nice json field names we can add struct tags though. This will output the key name as the tag name
type Product struct {
 ID          int     <code>json:&quot;id&quot;</code>
 Name        string  <code>json:&quot;name&quot;</code>
 Description string  <code>json:&quot;description&quot;</code>
 Price       float32 <code>json:&quot;price&quot;</code>
 SKU         string  <code>json:&quot;sku&quot;</code>
 CreatedOn   string  <code>json:&quot;-&quot;</code>
 UpdatedOn   string  <code>json:&quot;-&quot;</code>
 DeletedOn   string  <code>json:&quot;-&quot;</code>
}// Products is a type defining slice of struct Product
type Products []*Product// ToJSON is a Method on type Products (slice of Product), used to covert structure to JSON
func (p *Products) ToJSON(w io.Writer) error {
 // NewEncoder requires an io.Reader. http.ResponseWriter is the same thing
 encoder := json.NewEncoder(w)
 return encoder.Encode(p)
}// FromJSON is a Method on type Products (slice of Product)
func (p *Product) FromJSON(r io.Reader) error {
 decoder := json.NewDecoder&reg;
 return decoder.Decode(p)
}//GetProducts - Return the product list
func GetProducts() Products {
 return productList
}//AddProduct - Add the product to our struct Product
func AddProduct(p *Product) {
 p.ID = getNextID()
 productList = append(productList, p)
}//UpdateProduct - Updates the product to our struct Product
func UpdateProduct(id int, p *Product) error {
 _, pos, err := findProduct(id)
 if err != nil {
  return err
 }p.ID = id
 productList[pos] = preturn nil
}func findProduct(id int) (*Product, int, error) {
 for i, p := range productList {
  if p.ID == id {
   return p, i, nil
  }
 }
 return nil, -1, ErrProductNotFound
}// ErrProductNotFound is the Standard Product not found error structure
var ErrProductNotFound = fmt.Errorf(&ldquo;Product not found&rdquo;)// Increments the Product ID by one
func getNextID() int {
 lastProduct := productList[len(productList)-1]
 return lastProduct.ID + 1
}var productList = []*Product{
 &amp;Product{
  ID:          1,
  Description: &ldquo;Latte&rdquo;,
  Name:        &ldquo;Milky coffee&rdquo;,
  SKU:         &ldquo;abc323&rdquo;,
  Price:       200,
  UpdatedOn:   time.Now().UTC().String(),
  CreatedOn:   time.Now().UTC().String(),
 },
 &amp;Product{
  ID:          2,
  Description: &ldquo;Expresso&rdquo;,
  Name:        &ldquo;Strong coffee&rdquo;,
  SKU:         &ldquo;errfer&rdquo;,
  Price:       150,
  UpdatedOn:   time.Now().UTC().String(),
  CreatedOn:   time.Now().UTC().String(),
 },
}</p>

<h1 id="font-mstmutation-1-msthash-23777-msttexthash-19841588-æ£€ç´¢äº§å“-è·å–-font"><font _mstmutation="1" _msthash="23777" _msttexthash="19841588">æ£€ç´¢äº§å“ + è·å–</font></h1>

<p><font _mstmutation="1" _msthash="28236" _msttexthash="295669699">è¦æ£€ç´¢æˆ‘ä»¬çš„äº§å“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŸºäº Unix çš„ç»ˆç«¯ä»¥è¿™æ ·çš„æ–¹å¼å‘é€è¯·æ±‚ï¼š</font></p>

<p>curl -v localhost:9090 | jq</p>

<blockquote>
<p><font _mstmutation="1" _msthash="29367" _msttexthash="32866067">jq æœ‰åŠ©äºæ ¼å¼åŒ–å“åº”ã€‚</font></p>
</blockquote>

<p><font _mstmutation="1" _msthash="23595" _msttexthash="890288425">äº§å“.go å¤„ç†ç¨‹åºåœ¨æ­¤è¯·æ±‚ä¸‹æ¿€æ´»ã€‚åœ¨ ServeHTTP æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å†™äº†ä¸€ä¸ª if æ¡ä»¶ï¼Œç”¨äºæ£€æŸ¥ä½¿ç”¨ http è¯·æ±‚çš„ HTTP è°“è¯ã€‚æ–¹æ³•è·å–ï¼Œæœ¬è´¨ä¸Šæ˜¯å­—ç¬¦ä¸²&rdquo;GET&rdquo;ã€‚</font></p>

<p>if r.Method == http.MethodGet {
  p.getProducts(rw, r)
  return
 }</p>

<p><font _mstmutation="1" _msthash="39416" _msttexthash="2325191349"><strong>getproductsï¼ˆï¼‰</strong>æ–¹æ³•æ˜¯ GET è¯·æ±‚çš„ã€‚æˆ‘ä»¬å°† HTTP å“åº”ç¼–å†™å™¨å‘é€åˆ°æ­¤æ–¹æ³•ã€‚æ­¤æ–¹æ³•åè¿‡æ¥ä»æˆ‘ä»¬çš„æ•°æ®å­˜å‚¨<strong>ä¸­è·å–</strong>äº§å“åˆ—è¡¨åˆ‡ç‰‡ã€‚ç”±äºå®ƒæ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸º JSONï¼Œä½¿ç”¨æˆ‘ä»¬çš„ ToJSON å®ç”¨ç¨‹åºæ–¹æ³•ï¼Œè¯¥æ–¹æ³•åœ¨ç»“æ„äº§å“çš„ç±»å‹ä¸Šå®šä¹‰ã€‚</font></p>

<p>func (p *Products) getProducts(rw http.ResponseWriter, r *http.Request) {
 p.l.Println(&ldquo;Handle GET products&rdquo;)listOfProducts := data.GetProducts()
 // Use encoder as it is marginally faster than json.marshal. It&rsquo;s important when we use multiple threads
 // d, err := json.Marshal(listOfProducts)
 err := listOfProducts.ToJSON(rw)
 if err != nil {
  http.Error(rw, &ldquo;Unable to marshal json&rdquo;, http.StatusInternalServerError)
 }
}</p>

<p><font _mstmutation="1" _msthash="28054" _msttexthash="9877518755">ç¼–ç å°† v çš„ JSON ç¼–ç å†™å…¥æµï¼Œåè·Ÿä¸€ä¸ªæ–°è¡Œå­—ç¬¦ã€‚æˆ‘ä»¬æœ¬å¯ä»¥ç”¨<strong>json çš„å…ƒå¸…</strong>åœ¨è¿™é‡Œï¼Œä½†æˆ‘ä»¬æ²¡æœ‰ã€‚ç¼–ç å™¨å’Œè§£ç å™¨å°†ç»“æ„å†™å…¥æµåˆ‡ç‰‡æˆ–ä»æµåˆ‡ç‰‡è¯»å–æ•°æ®å¹¶å°†å…¶è½¬æ¢ä¸ºç»“æ„ã€‚åœ¨å†…éƒ¨ï¼Œå®ƒä¹Ÿå®ç°å°é€æ–¹æ³•ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå¦‚æœä½ æƒ³ç©å­—ç¬¦ä¸²æˆ–å­—èŠ‚ä½¿ç”¨å°é€ï¼Œå¦‚æœä»»ä½•æ•°æ®ï¼Œä½ æƒ³è¯»å–æˆ–å†™å…¥ä¸€äº›ç¼–å†™å™¨æ¥å£ï¼ˆå¦‚æˆ‘ä»¬çš„å“åº”ç¼–å†™å™¨ï¼‰ï¼Œä½¿ç”¨ç¼–ç å’Œè§£ç ã€‚è¿™åè¿‡æ¥ä¹Ÿæ›´å¿«ã€‚æˆ‘ä»¬ä¸ä¼šæ³¨æ„åˆ°å•ä¸ª API è°ƒç”¨æœ‰ä»»ä½•é€Ÿåº¦å·®å¼‚ï¼Œä½†ä½¿ç”¨ç¼–ç å™¨è€Œä¸æ˜¯ Marshal å¯ä»¥æ›´å¥½åœ°å¤„ç†æ•°åƒä¸ªåŒæ—¶è¿›è¡Œçš„ API è°ƒç”¨ã€‚æ‚¨å¯ä»¥åœ¨æ­¤å¤„é˜…è¯»æœ‰å…³ç¼–ç /json åŒ…<a href="https://zshipu.com/t?url=https://golang.org/pkg/encoding/json/#Encoder">çš„æ›´å¤šå†…å®¹</a>ã€‚</font></p>

<p>// ToJSON is a Method on type Products (slice of Product), used to covert structure to JSON
func (p *Products) ToJSON(w io.Writer) error {
 // NewEncoder requires an io.Reader. http.ResponseWriter is the same thing
 encoder := json.NewEncoder(w)
 return encoder.Encode(p)
}</p>

<p><font _mstmutation="1" _msthash="35048" _msttexthash="280691177">å› æ­¤ï¼Œæ­¤ç¼–ç å™¨å°†æˆ‘ä»¬çš„å“åº”å†™å…¥å“åº”ç¼–å†™å™¨ã€‚API è°ƒç”¨çš„æœ€ç»ˆè¾“å‡ºæœ‰ç‚¹åƒï¼š</font></p>

<p>[
  {
    &ldquo;id&rdquo;: 1,
    &ldquo;name&rdquo;: &ldquo;Milky coffee&rdquo;,
    &ldquo;description&rdquo;: &ldquo;Latte&rdquo;,
    &ldquo;price&rdquo;: 200,
    &ldquo;sku&rdquo;: &ldquo;abc323&rdquo;
  },
  {
    &ldquo;id&rdquo;: 2,
    &ldquo;name&rdquo;: &ldquo;Strong coffee&rdquo;,
    &ldquo;description&rdquo;: &ldquo;Expresso&rdquo;,
    &ldquo;price&rdquo;: 150,
    &ldquo;sku&rdquo;: &ldquo;errfer&rdquo;
  }
]</p>

<h1 id="font-mstmutation-1-msthash-33579-msttexthash-13596141-æ·»åŠ æ–°äº§å“-post-font"><font _mstmutation="1" _msthash="33579" _msttexthash="13596141">æ·»åŠ æ–°äº§å“ + POST</font></h1>

<p><font _mstmutation="1" _msthash="23517" _msttexthash="267359261">è¦æ·»åŠ æ–°äº§å“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŸºäº Unix çš„ç»ˆç«¯ä»¥è¿™æ ·çš„æ–¹å¼å‘é€è¯·æ±‚ï¼š</font></p>

<p>curl -v localhost:9090 -XPOST -d {&ldquo;name&rdquo;: &ldquo;Tea&rdquo;, &ldquo;description&rdquo;: &ldquo;Cuppa Tea&rdquo;, &ldquo;price&rdquo;: 10}</p>

<p><font _mstmutation="1" _msthash="23725" _msttexthash="806933088">æ·»åŠ äº§å“çš„ç»“æ„ç±»ä¼¼äºè·å–äº§å“ã€‚æˆ‘ä»¬éµå¾ªç›¸åŒçš„æ•°æ®ä¼ è¾“æµç¨‹ï¼šåˆ°æ•°æ®å­˜å‚¨çš„å¤„ç†ç¨‹åºã€‚å¤„ç†ç¨‹åºè¯†åˆ« HTTP è°“è¯å¹¶è°ƒç”¨é€‚å½“çš„æ–¹æ³•ï¼Œå³<strong>addProduct</strong>ã€‚</font></p>

<p><font _mstmutation="1" _msthash="33644" _msttexthash="1430170313">æ­¤æ–¹æ³•åè¿‡æ¥åˆ›å»ºå¯¹æˆ‘ä»¬çš„äº§å“ç»“æ„çš„å¼•ç”¨ï¼Œè¯¥ç»“æ„å®šä¹‰äº†æˆ‘ä»¬çš„äº§å“ç»“æ„ã€‚è¯·æ±‚æ­£æ–‡ä¸­æ¥æ”¶çš„ JSON æ•°æ®å°†å‘é€åˆ°å®ç”¨ç¨‹åºæ–¹æ³• FromJSONï¼Œä»¥è§£ç ä¸ºæˆ‘ä»¬å®šä¹‰çš„ç»“æ„ï¼ˆå³äº§å“ï¼‰çš„ç»“æ„åŒ–å¼•ç”¨ã€‚</font></p>

<p>func (p *Products) addProduct(rw http.ResponseWriter, r *http.Request) {
 p.l.Println(&ldquo;Handle POST product&rdquo;)prod := &amp;data.Product{}
 // The reason why we use a buffer reader is so that we don&rsquo;t have to allocate all the memory instantly to a slice or something like that,
 err := prod.FromJSON(r.Body)
 if err != nil {
  http.Error(rw, &ldquo;Unable to unmarshal json&rdquo;, http.StatusBadRequest)
 }
 // p.l.Printf(&ldquo;Prod %#v&rdquo;, prod)
 data.AddProduct(prod)
}</p>

<p><font _mstmutation="1" _msthash="29705" _msttexthash="613383173">ç°åœ¨ï¼Œæˆ‘ä»¬å·²å°†äº§å“å­˜å‚¨ä¸ºç»“æ„äº§å“çš„å‚è€ƒï¼Œæˆ‘ä»¬å°†å®ƒè¿½åŠ åˆ°<strong>æˆ‘ä»¬çš„äº§å“åˆ—è¡¨åˆ‡ç‰‡ä¸­</strong>ï¼Œè¯¥åˆ‡ç‰‡ç”¨ä½œæˆ‘ä»¬çš„ä¸´æ—¶æ•°æ®åº“å­˜å‚¨ã€‚</font></p>

<p>func AddProduct(p *Product) {
 p.ID = getNextID()
 productList = append(productList, p)
}</p>

<p><font _mstmutation="1" _msthash="28886" _msttexthash="782232490">ä¸ºæˆ‘ä»¬çš„äº§å“ç”Ÿæˆä¸€ä¸ªæ–°çš„ IDï¼Œå¹¶é™„åŠ åˆ°æˆ‘ä»¬çš„åˆ‡ç‰‡ã€‚å¦‚æœæˆ‘ä»¬å‘æˆ‘ä»¬çš„äº§å“ API å‘é€ GET è¯·æ±‚ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ç°åœ¨åˆ—å‡ºçš„ 3 ç§äº§å“ï¼Œè€Œä¸æ˜¯ 2 ä¸ªã€‚</font></p>

<p>[
  {
    &ldquo;id&rdquo;: 1,
    &ldquo;name&rdquo;: &ldquo;Milky coffee&rdquo;,
    &ldquo;description&rdquo;: &ldquo;Latte&rdquo;,
    &ldquo;price&rdquo;: 200,
    &ldquo;sku&rdquo;: &ldquo;abc323&rdquo;
  },
  {
    &ldquo;id&rdquo;: 2,
    &ldquo;name&rdquo;: &ldquo;Strong coffee&rdquo;,
    &ldquo;description&rdquo;: &ldquo;Expresso&rdquo;,
    &ldquo;price&rdquo;: 150,
    &ldquo;sku&rdquo;: &ldquo;errfer&rdquo;
  },{
    &ldquo;id&rdquo;: 3,
    &ldquo;name&rdquo;: &ldquo;Tea&rdquo;,
    &ldquo;description&rdquo;: &ldquo;Cuppa Tea&rdquo;,
    &ldquo;price&rdquo;: 10
  }
]</p>

<h1 id="font-mstmutation-1-msthash-28535-msttexthash-18319717-æ›´æ–°ç°æœ‰äº§å“-put-font"><font _mstmutation="1" _msthash="28535" _msttexthash="18319717">æ›´æ–°ç°æœ‰äº§å“ + PUT</font></h1>

<p><font _mstmutation="1" _msthash="28093" _msttexthash="281818355">è¦æ›´æ–°ç°æœ‰äº§å“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŸºäº Unix çš„ç»ˆç«¯ä»¥è¿™æ ·çš„æ–¹å¼å‘é€è¯·æ±‚ï¼š</font></p>

<p>curl -v localhost:<sup>9090</sup>&frasl;<sub>2</sub> -XPUT -d {&ldquo;name&rdquo;: &ldquo;Frappuccino&rdquo;, &ldquo;description&rdquo;: &ldquo;Cuppa frappuccino&rdquo;, &ldquo;price&rdquo;: 100}</p>

<p><font _mstmutation="1" _msthash="31902" _msttexthash="891551752">æ›´æ–°äº§å“çš„ç»“æ„ç±»ä¼¼äºè·å–äº§å“ã€‚æˆ‘ä»¬éµå¾ªç›¸åŒçš„æ•°æ®ä¼ è¾“æµç¨‹ï¼šåˆ°æ•°æ®å­˜å‚¨çš„å¤„ç†ç¨‹åºã€‚å¤„ç†ç¨‹åºè¯†åˆ« HTTP è°“è¯å¹¶è°ƒç”¨é€‚å½“çš„æ–¹æ³•ï¼Œå³<strong>æ›´æ–°äº§å“</strong>ã€‚</font></p>

<p><font _mstmutation="1" _msthash="24024" _msttexthash="580421517">PUT è¯·æ±‚æ¯”ç®€å•çš„ POST æˆ– GET æ›´éš¾è§£æï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»ä» URI ä¸­æå–è¯·æ±‚çš„ IDã€‚æˆ‘ä»¬å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Ÿæˆ‘ä»¬ä½¿ç”¨ä¸€äº› regexp ã€‚</font></p>

<p><font _mstmutation="1" _msthash="27313" _msttexthash="3149617757">ç”±äºæˆ‘ä»¬çš„ ID æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ª regexp æ¥æœç´¢ä¸€ç»„æ•°å­— ï¼ˆ0+9ï¼‰ï¼Œè¿™äº›æ•°å­—å¯ä»¥é‡å¤ï¼Œç”± + æ ‡è®°è¡¨ç¤ºã€‚åœ¨è¿è¡Œ FindAllStringSubmatch æ—¶ï¼Œå¦‚æœæˆ‘ä»¬è·å¾—æˆåŠŸçš„åŒ¹é…ï¼ŒåŒ¹é…å­—ç¬¦ä¸²å°†é©»ç•™åœ¨å¤šç»´æ•°ç»„ä¸­ã€‚æˆ‘ä»¬ä»ç´¢å¼• {0}{1} ä¸­æå–å¿…è¦çš„ç»„ã€‚æˆ‘å°†ç•™ç»™æ‚¨æ¥æ‰¾å‡ºä¸ºä»€ä¹ˆç´¢å¼•ä½äº {1} è€Œä¸æ˜¯ {0}ä¸­ã€‚</font></p>

<p><font _mstmutation="1" _msthash="30017" _msttexthash="387511956">Regexp çœŸçš„å¾ˆæœ‰è¶£ï¼Œ åœ¨å¾ˆå¤šæ–¹é¢éƒ½å¾ˆæœ‰å¸®åŠ©ã€‚æ‚¨å¯ä»¥åœ¨æ­¤å¤„é˜…è¯»æœ‰å…³ Golang æ ‡å‡†åº“æä¾›çš„æ–¹æ³•<a href="https://zshipu.com/t?url=https://golang.org/pkg/regexp/">ã€‚</a></font></p>

<p>if r.Method == http.MethodPut {
  // expect the id in the URI
  regex := regexp.MustCompile(<code>/([0-9]+)</code>)
  group := regex.FindAllStringSubmatch(r.URL.Path, -1)if len(group) != 1 || len(group[0]) != 2 {
   http.Error(rw, &ldquo;Invalid URI&rdquo;, http.StatusBadRequest)
   return
  }idString := group[0][1]
  // Ignore the error for now
  id, _ := strconv.Atoi(idString)p.updateProducts(id, rw, r)
 }</p>

<p><font _mstmutation="1" _msthash="34905" _msttexthash="283836826">ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰æˆ‘ä»¬éœ€è¦æ›´æ–°çš„äº§å“ IDï¼Œæˆ‘ä»¬å¯ä»¥ä»è¯·æ±‚æ­£æ–‡ä¸­æå–æ›´æ–°çš„ä¿¡æ¯ã€‚</font></p>

<p><font _mstmutation="1" _msthash="28730" _msttexthash="530932675">æˆ‘ä»¬å°†ä»èº«ä½“ä¸­è§£ç ä¸ºæŒ‡å‘æ•°æ®å­˜å‚¨å†…äº§å“çš„ç»“æ„å‚è€ƒã€‚æ­¤æ­¥éª¤ç±»ä¼¼äº POST è¯·æ±‚ã€‚æ¥ä¸‹æ¥<strong>å°†è°ƒç”¨</strong>æ•°æ®å­˜å‚¨ä¸­çš„ UpdateProduct æ–¹æ³•ã€‚</font></p>

<p>func (p *Products) updateProducts(id int, rw http.ResponseWriter, r *http.Request) {
 p.l.Println(&ldquo;Handle Put product&rdquo;)prod := &amp;data.Product{}
 // The reason why we use a buffer reader is so that we don&rsquo;t have to allocate all the memory instantly to a slice or something like that,
 err := prod.FromJSON(r.Body)
 if err != nil {
  http.Error(rw, &ldquo;Unable to unmarshal json&rdquo;, http.StatusBadRequest)
 }err = data.UpdateProduct(id, prod)
 if err == data.ErrProductNotFound {
  http.Error(rw, &ldquo;Product not found&rdquo;, http.StatusNotFound)
  return
 }if err != nil {
  http.Error(rw, &ldquo;Product not found&rdquo;, http.StatusInternalServerError)
  return
 }}</p>

<p><font _mstmutation="1" _msthash="29120" _msttexthash="4319252613">è¦æ›´æ–°æˆ‘ä»¬çš„äº§å“ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ‰¾åˆ°å®ƒã€‚æˆ‘ä»¬æœ‰ URI çš„ ID æ˜¯ä»¶å¥½äº‹ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬äº§å“çš„å”¯ä¸€å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é€šè¿‡éå¬äº§å“<strong>åˆ—è¡¨åˆ‡ç‰‡</strong>å¹¶è¿”å›äº§å“å‚è€ƒã€åˆ‡ç‰‡ä¸­çš„ç´¢å¼•å’Œé”™è¯¯ï¼ˆå¦‚æœæ‰¾åˆ°äº§å“ä¸ºé›¶ï¼‰ã€‚ã€‚æˆ‘ä»¬ä½¿ç”¨æ­¤ç´¢å¼•ï¼ˆpos æ˜¯æ­¤ç´¢å¼•çš„å˜é‡åç§°ï¼‰ï¼Œå°†å¼•ç”¨æ›¿æ¢ä¸ºè¯·æ±‚æ­£æ–‡ä¸­æ”¶åˆ°çš„ JSONï¼ˆæ˜¾ç„¶å®ƒç°åœ¨è§£ç ä¸ºå¯¹äº§å“ç»“æ„çš„å¼•ç”¨ï¼‰ã€‚</font></p>

<p>//UpdateProduct - Updates the product to our struct Product
func UpdateProduct(id int, p *Product) error {
 _, pos, err := findProduct(id)
 if err != nil {
  return err
 }p.ID = id
 productList[pos] = preturn nil
}func findProduct(id int) (*Product, int, error) {
 for i, p := range productList {
  if p.ID == id {
   return p, i, nil
  }
 }
 return nil, -1, ErrProductNotFound
}</p>

<p><font _mstmutation="1" _msthash="28821" _msttexthash="428141844">ç´¢å¼• 2 ä¸­çš„äº§å“ç°åœ¨åº”è¯¥å·²æ›´æ–°ã€‚å¦‚æœæˆ‘ä»¬å‘äº§å“ API å‘é€ GET è¯·æ±‚ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ç¬¬äºŒä¸ªäº§å“æ›´æ–°ä¸ºæ–°å€¼ã€‚</font></p>

<p>[
  {
    &ldquo;id&rdquo;: 1,
    &ldquo;name&rdquo;: &ldquo;Milky coffee&rdquo;,
    &ldquo;description&rdquo;: &ldquo;Latte&rdquo;,
    &ldquo;price&rdquo;: 200,
    &ldquo;sku&rdquo;: &ldquo;abc323&rdquo;
  },
  {
    &ldquo;id&rdquo;: 2,
    &ldquo;name&rdquo;: &ldquo;Frappuccino&rdquo;,
    &ldquo;description&rdquo;: &ldquo;Cuppa Frappuccino&rdquo;,
    &ldquo;price&rdquo;: 100,
    &ldquo;sku&rdquo;: &ldquo;errfer&rdquo;
  },{
    &ldquo;id&rdquo;: 3,
    &ldquo;name&rdquo;: &ldquo;Tea&rdquo;,
    &ldquo;description&rdquo;: &ldquo;Cuppa Tea&rdquo;,
    &ldquo;price&rdquo;: 10
  }
]</p>

        </div>

        
<div class="post-archive">
    <ul class="post-copyright">
        <li><strong>åŸæ–‡ä½œè€…ï¼š</strong><a rel="author" href="https://geek.zshipu.com/">çŸ¥è¯†é“º</a></li>
        <li style="word-break:break-all"><strong>åŸæ–‡é“¾æ¥ï¼š</strong><a href="https://geek.zshipu.com/post/go/Golang%E5%AE%9E%E8%B7%B5%E4%BD%BF%E7%94%A8-Go-&#43;-%E7%AC%AC-2-%E9%83%A8%E5%88%86%E5%88%9B%E5%BB%BA-RESTful-%E6%9C%8D%E5%8A%A1/">https://geek.zshipu.com/post/go/Golang%E5%AE%9E%E8%B7%B5%E4%BD%BF%E7%94%A8-Go-&#43;-%E7%AC%AC-2-%E9%83%A8%E5%88%86%E5%88%9B%E5%BB%BA-RESTful-%E6%9C%8D%E5%8A%A1/</a></li>
        <li><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬ä½œå“é‡‡ç”¨<a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ˆä½œè€…ï¼ŒåŸæ–‡é“¾æ¥ï¼‰ï¼Œå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒã€‚</li>
        <li><strong>å…è´£å£°æ˜ï¼š</strong>æœ¬é¡µé¢å†…å®¹å‡æ¥æºäºç«™å†…ç¼–è¾‘å‘å¸ƒï¼Œéƒ¨åˆ†ä¿¡æ¯æ¥æºäº’è”ç½‘ï¼Œå¹¶ä¸æ„å‘³ç€æœ¬ç«™èµåŒå…¶è§‚ç‚¹æˆ–è€…è¯å®å…¶å†…å®¹çš„çœŸå®æ€§ï¼Œå¦‚æ¶‰åŠç‰ˆæƒç­‰é—®é¢˜ï¼Œè¯·ç«‹å³è”ç³»å®¢æœè¿›è¡Œæ›´æ”¹æˆ–åˆ é™¤ï¼Œä¿è¯æ‚¨çš„åˆæ³•æƒç›Šã€‚è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚ä¹Ÿå¯ä»¥é‚®ä»¶è‡³ sblig@126.com</li>
    </ul>
</div>
<br/>



        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/post/go/Golang%E5%AE%9E%E8%B7%B5%E4%BD%BF%E7%94%A8-Go&#43;-%E7%AC%AC-1-%E9%83%A8%E5%88%86%E5%88%9B%E5%BB%BA%E5%BE%AE%E6%9C%8D%E5%8A%A1/">Golangå®è·µï¼šä½¿ç”¨ Go&#43; ç¬¬ 1 éƒ¨åˆ†åˆ›å»ºå¾®æœåŠ¡</a></li>
        
        <li><a href="/post/go/Golang%E5%AE%9E%E8%B7%B5Golang%E7%9A%84-3-%E4%B8%AA%E9%99%B7%E9%98%B1/">Golangå®è·µï¼šGolangçš„ 3 ä¸ªé™·é˜±</a></li>
        
        <li><a href="/post/go/Golang%E5%9F%BA%E7%A1%80go%E8%AF%AD%E8%A8%80%E4%B8%AD%E7%9A%84%E5%BE%AA%E7%8E%AF/">GolangåŸºç¡€ï¼šgoè¯­è¨€ä¸­çš„å¾ªç¯</a></li>
        
        <li><a href="/post/go/Golang%E5%AE%9E%E6%88%98%E7%BB%86%E8%83%9E%E5%90%9E%E5%99%AC/">Golangå®æˆ˜ï¼šç»†èƒåå™¬</a></li>
        
        <li><a href="/post/linux/%E5%BC%80%E5%8F%91%E6%97%A5%E5%B8%B8nginx-ip_hash-%E4%BD%9C%E7%94%A8_20201025191937-qkl1b8w.sy/">å¼€å‘æ—¥å¸¸ï¼šnginx ip_hash ä½œç”¨</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='/tags/golang'>golang</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "zshipu/zshipu-geek"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2022 <a href="https://geek.zshipu.com/">çŸ¥è¯†é“ºçš„åšå®¢ By çŸ¥è¯†é“º</a>
        
        | <a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn/">æµ™ ICP å¤‡19032823å·-1</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">é£é›ªæ— æƒ…</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://geek.zshipu.com/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://geek.zshipu.com/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">æœ€è¿‘æ–‡ç« </h3>
<ul class="widget-list">
    
    <li>
        <a href="https://geek.zshipu.com/post/bi/%E7%94%A8%E6%88%B7%E7%94%BB%E5%83%8F/%E7%9F%A5%E4%B9%8E%E7%9A%84%E7%94%A8%E6%88%B7%E7%94%BB%E5%83%8F%E4%B8%8E%E5%AE%9E%E6%97%B6%E6%95%B0%E6%8D%AE%E7%9A%84%E6%9E%B6%E6%9E%84%E4%B8%8E%E5%AE%9E%E8%B7%B5/" title="çŸ¥ä¹çš„ç”¨æˆ·ç”»åƒä¸å®æ—¶æ•°æ®çš„æ¶æ„ä¸å®è·µ">çŸ¥ä¹çš„ç”¨æˆ·ç”»åƒä¸å®æ—¶æ•°æ®çš„æ¶æ„ä¸å®è·µ</a>
    </li>
    
    <li>
        <a href="https://geek.zshipu.com/post/react/React-18-%E6%96%B0%E5%8A%9F%E8%83%BD%E5%92%8C%E6%94%B9%E8%BF%9B%E7%AD%96%E7%95%A5/" title="React 18 - æ–°åŠŸèƒ½å’Œæ”¹è¿›ç­–ç•¥">React 18 - æ–°åŠŸèƒ½å’Œæ”¹è¿›ç­–ç•¥</a>
    </li>
    
    <li>
        <a href="https://geek.zshipu.com/post/DDD/DOM-%E5%92%8C%E8%99%9A%E6%8B%9F-DOM-%E7%9A%84%E5%8C%BA%E5%88%AB/" title="DOM å’Œè™šæ‹Ÿ DOM çš„åŒºåˆ«">DOM å’Œè™šæ‹Ÿ DOM çš„åŒºåˆ«</a>
    </li>
    
    <li>
        <a href="https://geek.zshipu.com/post/go/GlideIM-Golang-%E5%AE%9E%E7%8E%B0%E7%9A%84%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F-IM/" title="GlideIM - Golang å®ç°çš„é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼ IM">GlideIM - Golang å®ç°çš„é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼ IM</a>
    </li>
    
    <li>
        <a href="https://geek.zshipu.com/post/react/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E7%AC%AC-2-%E9%83%A8%E5%88%86%E9%99%84%E6%8F%92%E5%9B%BE/" title="æµè§ˆå™¨çš„å·¥ä½œåŸç† - è·å–æ•°æ®ï¼ˆç¬¬ 2 éƒ¨åˆ†ï¼Œé™„æ’å›¾ï¼‰ğŸš€">æµè§ˆå™¨çš„å·¥ä½œåŸç† - è·å–æ•°æ®ï¼ˆç¬¬ 2 éƒ¨åˆ†ï¼Œé™„æ’å›¾ï¼‰ğŸš€</a>
    </li>
    
    <li>
        <a href="https://geek.zshipu.com/post/flutter/%E4%B8%BA%E4%BB%80%E4%B9%88-Flutter-%E4%BD%BF%E7%94%A8-Dart/" title="ä¸ºä»€ä¹ˆ Flutter ä½¿ç”¨ Dart">ä¸ºä»€ä¹ˆ Flutter ä½¿ç”¨ Dart</a>
    </li>
    
    <li>
        <a href="https://geek.zshipu.com/post/react/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-%E5%AF%BC%E8%88%AA%E7%AC%AC-1-%E9%83%A8%E5%88%86%E5%B8%A6%E6%8F%92%E5%9B%BE%EF%B8%8F/" title="æµè§ˆå™¨çš„å·¥ä½œåŸç† - å¯¼èˆªï¼ˆç¬¬ 1 éƒ¨åˆ†ï¼Œå¸¦æ’å›¾ï¼‰âš™ï¸ğŸ’¥">æµè§ˆå™¨çš„å·¥ä½œåŸç† - å¯¼èˆªï¼ˆç¬¬ 1 éƒ¨åˆ†ï¼Œå¸¦æ’å›¾ï¼‰âš™ï¸ğŸ’¥</a>
    </li>
    
    <li>
        <a href="https://geek.zshipu.com/post/DDD/DDD-%E5%8D%81%E9%80%9A%E8%BF%87%E9%A2%84%E5%AE%9A%E4%BD%9C%E4%B8%9A%E7%9A%84%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7/" title="DDD-åã€é€šè¿‡é¢„å®šä½œä¸šçš„æœ€ç»ˆä¸€è‡´æ€§">DDD-åã€é€šè¿‡é¢„å®šä½œä¸šçš„æœ€ç»ˆä¸€è‡´æ€§</a>
    </li>
    
    <li>
        <a href="https://geek.zshipu.com/post/DDD/DDD-%E4%B9%9D%E4%BD%BF%E7%94%A8-Spring-%E5%A4%84%E7%90%86%E9%A2%86%E5%9F%9F%E4%BA%8B%E4%BB%B6/" title="DDD-ä¹ã€ä½¿ç”¨ Spring Data å‘å¸ƒé¢†åŸŸäº‹ä»¶">DDD-ä¹ã€ä½¿ç”¨ Spring Data å‘å¸ƒé¢†åŸŸäº‹ä»¶</a>
    </li>
    
    <li>
        <a href="https://geek.zshipu.com/post/DDD/DDD-%E5%85%AB%E4%BD%BF%E7%94%A8-Spring-Data-%E5%8F%91%E5%B8%83%E9%A2%86%E5%9F%9F%E4%BA%8B%E4%BB%B6/" title="DDD-å…«ã€ä½¿ç”¨ Spring å¤„ç†é¢†åŸŸäº‹ä»¶">DDD-å…«ã€ä½¿ç”¨ Spring å¤„ç†é¢†åŸŸäº‹ä»¶</a>
    </li>
    
</ul>
    </section>

    
<section class="widget">
    <h3 class="widget-title" style="color:red">ç¦åˆ©æ´¾é€</h3>
    <ul class="widget-list">
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="ã€2019åŒ12ã€‘ALL IN CLoud ä½è‡³1æŠ˜" target="_blank" style="color:red">
                
                    <img src="https://img.alicdn.com/tfs/TB1_rYHo7P2gK0jSZPxXXacQpXa-690-388.jpg">
                
            </a>
        </li>
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="åŠ©åŠ›äº§ä¸šæ™ºæ…§å‡çº§ï¼Œäº‘æœåŠ¡å™¨é¦–å¹´88å…ƒèµ·ï¼Œæ›´æœ‰åƒå…ƒä»£é‡‘åˆ¸ç¤¼åŒ…å…è´¹é¢†ï¼" target="_blank" style="color:red">
                
                    <img src="https://upload-dianshi-1255598498.file.myqcloud.com/345-7c71532bd4935fbdd9a67c1a71e577b1767b805c.200%E7%89%88%E6%9C%ACB.jpg">
                
            </a>
        </li>
        
        <li>
            <a href="https://promotion.aliyun.com/ntms/yunparter/invite.html?source=5176.11533457&amp;userCode=tzm8r4hc" title="ã€æ¸ é“ä¸“äº«ä½æŠ˜æ‰£ã€‘11æœˆç‰¹æƒ  é™æ—¶2æŠ˜" target="_blank" style="color:red">
                
                    <img src="https://img.alicdn.com/tfs/TB1hblJl7Y2gK0jSZFgXXc5OFXa-750-400.jpg">
                
            </a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>åˆ†ç±»</a></h3>
<ul class="widget-list">
    
    <li><a href="https://geek.zshipu.com/categories/flutter/">flutter (30)</a></li>
    
    <li><a href="https://geek.zshipu.com/categories/iOS/">iOS (7)</a></li>
    
    <li><a href="https://geek.zshipu.com/categories/unix/">unix (9)</a></li>
    
    <li><a href="https://geek.zshipu.com/categories/%E7%AE%97%E6%B3%95/">ç®—æ³• (3)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>æ ‡ç­¾</a></h3>
<div class="tagcloud">
    
    <a href="https://geek.zshipu.com/tags/BI/">BI</a>
    
    <a href="https://geek.zshipu.com/tags/DDD/">DDD</a>
    
    <a href="https://geek.zshipu.com/tags/DDD%E5%AE%9E%E6%88%98/">DDDå®æˆ˜</a>
    
    <a href="https://geek.zshipu.com/tags/DevOps/">DevOps</a>
    
    <a href="https://geek.zshipu.com/tags/IM/">IM</a>
    
    <a href="https://geek.zshipu.com/tags/JS/">JS</a>
    
    <a href="https://geek.zshipu.com/tags/Java/">Java</a>
    
    <a href="https://geek.zshipu.com/tags/JavaScript/">JavaScript</a>
    
    <a href="https://geek.zshipu.com/tags/Monorepo/">Monorepo</a>
    
    <a href="https://geek.zshipu.com/tags/NextJS/">NextJS</a>
    
    <a href="">Nextjs</a>
    
    <a href="https://geek.zshipu.com/tags/Typora/">Typora</a>
    
    <a href="https://geek.zshipu.com/tags/WebRTC/">WebRTC</a>
    
    <a href="https://geek.zshipu.com/tags/android/">android</a>
    
    <a href="https://geek.zshipu.com/tags/css/">css</a>
    
    <a href="https://geek.zshipu.com/tags/flutter/">flutter</a>
    
    <a href="https://geek.zshipu.com/tags/game/">game</a>
    
    <a href="https://geek.zshipu.com/tags/go/">go</a>
    
    <a href="https://geek.zshipu.com/tags/golang/">golang</a>
    
    <a href="">java</a>
    
    <a href="">js</a>
    
    <a href="https://geek.zshipu.com/tags/mysql/">mysql</a>
    
    <a href="https://geek.zshipu.com/tags/nifi/">nifi</a>
    
    <a href="https://geek.zshipu.com/tags/npm/">npm</a>
    
    <a href="https://geek.zshipu.com/tags/python/">python</a>
    
    <a href="https://geek.zshipu.com/tags/reactjs/">reactjs</a>
    
    <a href="https://geek.zshipu.com/tags/sqllit/">sqllit</a>
    
    <a href="https://geek.zshipu.com/tags/vuejs/">vuejs</a>
    
    <a href="https://geek.zshipu.com/tags/web/">web</a>
    
    <a href="https://geek.zshipu.com/tags/web3/">web3</a>
    
    <a href="https://geek.zshipu.com/tags/%E4%B9%A6%E7%B1%8D/">ä¹¦ç±</a>
    
    <a href="https://geek.zshipu.com/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/">äººå·¥æ™ºèƒ½</a>
    
    <a href="https://geek.zshipu.com/tags/%E5%88%86%E8%AF%8D/">åˆ†è¯</a>
    
    <a href="https://geek.zshipu.com/tags/%E6%96%87%E6%91%98/">æ–‡æ‘˜</a>
    
    <a href="https://geek.zshipu.com/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">æœºå™¨å­¦ä¹ </a>
    
    <a href="https://geek.zshipu.com/tags/%E6%9E%B6%E6%9E%84/">æ¶æ„</a>
    
    <a href="https://geek.zshipu.com/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</a>
    
    <a href="https://geek.zshipu.com/tags/%E7%94%A8%E6%88%B7%E7%94%BB%E5%83%8F/">ç”¨æˆ·ç”»åƒ</a>
    
    <a href="https://geek.zshipu.com/tags/%E7%BA%BF%E7%A8%8B/">çº¿ç¨‹</a>
    
    <a href="https://geek.zshipu.com/tags/%E8%B5%B7%E6%AD%A5/">èµ·æ­¥</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">å‹æƒ…é“¾æ¥</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://blog.zshipu.com//" title="çŸ¥è¯†é“ºçš„åšå®¢">çŸ¥è¯†é“ºçš„åšå®¢</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">å…¶å®ƒ</h3>
        <ul class="widget-list">
            <li><a href="https://geek.zshipu.com/index.xml">æ–‡ç«  RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>